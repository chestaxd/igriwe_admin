<!doctype html>
<html lang="ru">
{% block head %}
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        {% block css %}
            <link rel="stylesheet" href="{{ asset('css/bootstrap.min.css') }}">
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">
        {% endblock %}
        {% block title %}
            <title>IGRIWE</title>
        {% endblock %}
        {% block head_js %}
        {% endblock %}
    </head>
{% endblock %}
{% block body %}
    <body>
    {% block navbar %}
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="{{ path('mainpage') }}">IGRIWE</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('game_new') }}">Добавить новую игру</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Категории
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="{{ path('category_new') }}">Новая категория</a>
                            <div class="dropdown-divider"></div>
                            {{ render(controller('App\\Controller\\TemplateBlocksController::getNavBarCategoriesList')) }}
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="{{ path('categories_list') }}">Все категории</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Теги
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="{{ path('tag_new') }}">Новый тег</a>
                            <div class="dropdown-divider"></div>
                            {{ render(controller('App\\Controller\\TemplateBlocksController::getNavBarTagsList')) }}
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="{{ path('tags_list') }}">Все теги</a>
                        </div>
                    </li>
                </ul>
                <form action="{{ path('search') }}" method="get" class="form-inline my-2 my-lg-0">
                    <input name="q" class="form-control mr-sm-2" value="" type="search" placeholder="Название или ID"
                           aria-label="Search">
                    <button class="btn btn-outline-success my-1 my-sm-0" type="submit">Поиск</button>
                </form>
                <a class="btn btn-outline-danger ml-1" href="{{ path('logout') }}">Logout</a>

            </div>
        </nav>
    {% endblock %}
    {% block content %}
        <div class="container">
            {% block message %}
                {% for message in app.flashes('success') %}
                    <div class="flash-notice alert alert-success">
                        {{ message }}
                    </div>
                {% endfor %}{% endblock %}
            {% block form %}{% endblock %}
            {% block gameList %}{% endblock %}
        </div>
    {% endblock %}
    {% block js %}
        <script src="{{ asset('js/jQuery-3.6.0.js') }}"></script>
        <script src="{{ asset('js/bootstrap.min.js') }}"></script>
        <script src="{{ asset('js/index.js') }}"></script>
    {% endblock %}
    </body>
{% endblock %}
</html>